# Q2506：统计相似字符串对的数目

如何用 10 只小白鼠找到 1024 瓶水中唯一有毒的那瓶呢？

## 难度

+ Leetcode 分级：**简单**

+ Leetcode Rating：**1335**

## 标签

+ 哈希表

+ **位运算**

## 解法

对于本题，**平方** 级时间复杂度的解法是不难想到的：对数组中每个字符串 `words[i]`，都遍历其之前所有的字符串，并统计其中与 `words[i]` 相似的字符串个数。这一操作显然存在冗余，我们能否通过以空间换时间的思路来简化之？

最为直接的想法便是引入一张表，动态地维护每组相似字符串已经出现的次数，这要求我们为相似字符串设计一个高效的索引。考虑一个长度为 26 的布尔数组 `hash` ，每一位表示其对应的字母是否在目标字符串中出现；那么根据定义，两个字符串相似，当且仅当它们的 `hash` 完全一致。

进一步，我们可以将 `hash` 数组压缩为一个 26 位的整数作为表的索引，在扫描目标字符串的同时应用简单的位运算即可得到。这一索引显然难以判定其边界，因此选择哈希表来作为前文提到的次数维护表。

## 复杂度

设字符串数组的最大长度为 ***n***，数组中单个字符串的最大长度为 ***m***。

$$ 时间复杂度：O(mn) $$ 

一趟扫描即可计算出总数，对每个字符串进行哈希并查表都是 ***O(m)*** 的时间复杂度。

$$ 空间复杂度：O(n) $$ 

引入哈希表带来的空间复杂度，当所有字符串均互不相似时，每个字符串的 `<hash, count>` 映射都会存储在表中。